<ion-view class="bubble-background">
    <ion-nav-buttons side="primary">
      <button class="button button-icon button-clear" ng-click="vm.cancel()">
        <i class="open-icon icon-cancel"></i>
      </button>     
    </ion-nav-buttons>
    <ion-nav-title>
      NEW CONTACT
    </ion-nav-title>
    <ion-nav-buttons side="secondary">
      <button class="button button-icon button-clear" ng-click="vm.save()">
        <i class="open-icon icon-validate"></i>
      </button>      
    </ion-nav-buttons>    
    <ion-content class="new-view" padding="false" scroll="true" has-bouncing="false">
      <div class="avatar-logo">
          <i class="open-icon icon-avatar"></i>
          <h4>EDIT</h4>        
      </div>
      <form>
        <div class="form-control">
          <i class="open-icon icon-name" ng-class="!vm.user.name ? 'untouched' : ''"></i>
          <input 
          type="text" 
          name="username" 
          id="username" 
          placeholder="Name" 
          ng-model="vm.user.name">            
        </div>
        <div class="form-control">
          <i class="open-icon icon-address" ng-class="!vm.user.address ? 'untouched' : ''"></i>
          <input 
          type="text" 
          name="address" 
          id="address" 
          placeholder="Address" 
          ng-model="vm.user.address">
          <button type="button" ng-click="vm.locateMe()">
            <i class="open-icon icon-locate-me"></i>
          </button>         
        </div>    
        <div class="form-control" ng-repeat="code in vm.user.codes track by $index">
          <i class="open-icon icon-code" ng-class="!code.label ? 'untouched' : ''"></i>
          <input 
          type="text" 
          name="code" 
          id="code" 
          placeholder="Code" 
          ng-model="code.label">
          <button type="button ng-cloak" ng-show="code.label && !$last" ng-click="vm.removeCode($index)">
            <i class="open-icon icon-minus"></i>
          </button>          
          <button type="button ng-cloak" ng-show="code.label && $last" ng-click="vm.addCode()">
            <i class="open-icon icon-plus" ng-show="code"></i>
          </button>          
        </div>
        <div class="form-control">
          <i class="open-icon icon-notes" ng-class="!vm.user.notes ? 'untouched' : ''"></i>
          <textarea 
          name="moreinfo" 
          id="moreinfo" 
          rows="2" 
          placeholder="Note anything you need to remember: floor, stairs.."
          ng-model="vm.user.notes"></textarea>            
        </div>
      </form>    
    </ion-content>
</ion-view>
